# AI Prompt Manager

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Chrome Extension](https://img.shields.io/badge/Chrome-Extension-blue.svg)](https://developer.chrome.com/docs/extensions/)

**AI用プロンプトをパーツ組み立てやテンプレート化して作成・管理するChrome拡張機能**

画像生成AIやLLM向けのプロンプトをパーツやテンプレートとして登録して組み立てられます。  
頻繁に使うプロンプトを管理し、翻訳機能によって内容の把握も素早く行えます。
<img width="1103" height="730" alt="スクリーンショット 2025-10-03 121321" src="https://github.com/user-attachments/assets/ebab6c5d-4297-42a0-9a48-31e927ac5eb0" />

---

## 主な機能

### 📦 パーツからプロンプトを組み立て
よく使うフレーズを「パーツ」として登録し、クリックするだけで長いプロンプトを瞬時に作成できます。
「パーツ」は単語から複数行の文章まで登録できます。

- カテゴリ分けで整理（スタイル、キャラクター、背景など）
- 日本語翻訳を併記可能（パーツ選択時に自動反映）
- 検索フィルタで素早く見つかる

**特徴：**
- 毎回長文を打ち込む手間が不要
- スペルミス防止
- Ctrl+Enterでカンマ区切りを自動追加

###  パーツ管理

<img width="1103" height="730" alt="スクリーンショット 2025-10-03 121359" src="https://github.com/user-attachments/assets/64112b5f-5b72-42c9-b548-328c74e0080f" />

- 登録済みパーツの編集・削除
- カテゴリの追加・並び替え
- ドラッグ&ドロップで順序変更
- 複数パーツを一括でカテゴリ変更（チェックボックス選択）

### テンプレート保存
完成したプロンプトをテンプレートとして保存し、即座に呼び出せます。

<img width="1103" height="730" alt="スクリーンショット 2025-10-03 121508" src="https://github.com/user-attachments/assets/0fb3d7cf-0776-4ab0-8f39-b439e059ba27" />
- サムネイル画像も登録可能（自動で縮小リサイズ）
- メモ機能により内容の把握がスムーズ
- テンプレートをボタンクリックでプロンプト作成画面に適用

### 翻訳API連携
- **LibreTranslate**、**DeepL**、**Google Apps Script**に対応
- プロンプトを日本語に自動翻訳
- API URLを登録するだけで使用可能
- 自動判定モードで複数APIに対応

### 💾 データセット切り替え
複数のプロンプトセット（画像生成用、文章生成用など）を切り替えて管理できます。

<img width="1103" height="730" alt="スクリーンショット 2025-10-03 121715" src="https://github.com/user-attachments/assets/ca87eff0-0c47-4949-b152-bfe06dcebf93" />

**データセットの概念**

各データセットは完全に独立した管理単位です。JSON形式で保存されており、用途ごとに切り替えられます。

```
💾 データセット「イラスト生成用」
   ├─ 📂 カテゴリ: スタイル、キャラクター、背景、品質向上...
   ├─ 🧩 パーツ: anime style, 1girl, forest, masterpiece...
   └─ 📋 テンプレート: キャラ立ち絵、風景画、アイコン用...

💾 データセット「画像生成用」
   ├─ 📂 カテゴリ: 構図、照明、被写体、カメラ設定...
   ├─ 🧩 パーツ: portrait, natural light, bokeh, 85mm lens...
   └─ 📋 テンプレート: ポートレート、商品写真、風景写真...

💾 データセット「文章生成用」
   ├─ 📂 カテゴリ: 文体、トーン、役割...
   ├─ 🧩 パーツ: professional tone, casual style, expert...
   └─ 📋 テンプレート: ブログ記事、技術文書、SNS投稿...

---

## インストール方法

### Chrome ウェブストアから
*準備中*

### 手動インストール
1. このリポジトリをダウンロードまたはクローン
   ```bash
   git clone https://github.com/versat13/AI_Prompt_Manager.git
   ```
2. Chromeで `chrome://extensions/` を開く
3. 右上の「デベロッパーモード」を有効化
4. 「パッケージ化されていない拡張機能を読み込む」をクリック
5. ダウンロードしたフォルダを選択

---

## 使い方

### 基本的な流れ
1. **パーツタブ**でよく使うフレーズを登録
2. **プロンプト作成タブ**でパーツをクリックして組み立て
3. 完成したら**テンプレート保存**ボタンでテンプレート化（※パネル右下にサムネ画像入力エリア）
4. 次回以降は**テンプレートタブ**から即座に呼び出し可能

### 翻訳機能の設定
1. **設定タブ**を開く
2. APIタイプを選択（LibreTranslate/DeepL/GAS/自動判定）
3. API URLを入力して「登録」
4. 「テスト」ボタンで動作確認

**翻訳API例：**
- LibreTranslate（無料）: `https://libretranslate.de/translate`
- DeepL API: 要アカウント登録
- Google Apps Script: 独自エンドポイント（URL末尾がXXXX/execとなる）

### キーボードショートカット
- `Ctrl+S` / `Cmd+S`: テンプレート保存
- `Ctrl+C` / `Cmd+C`: プロンプトをコピー（作成画面）
- `Ctrl+Enter`: カンマ区切りを追加（プロンプト入力中）
- `Esc`: 画像モーダルを閉じる

---

## 補足機能

- **ツールチップ表示**: 長いパーツやテンプレートの全文をホバーで確認
- **ストレージ使用量表示**: データ容量を監視（5MB上限に近づくと警告）
- **ドラッグ&ドロップ**: パーツ、カテゴリ、テンプレート、データセットの順序を直感的に変更

---

## 推奨使用方法

### 小規模運用を想定
- テンプレート数: 20-30個程度
- サムネイル画像: 控えめに使用（1画像あたり約50-100KB）
- ストレージ上限: 5MB（超過前に警告表示）

### ベストプラクティス
- **定期的にエクスポート**: 設定タブからJSONをバックアップ
- **データセット分離**: 用途別（画像生成/文章生成など）に分けて管理
- **カテゴリ整理**: パーツが増えたらカテゴリで分類

---

## 技術仕様

- **Chrome Extension Manifest V3**
- **ストレージ**: `chrome.storage.local`（5MB上限）
- **翻訳処理**: Background Service Workerで実行
- **レスポンシブデザイン**: 画面サイズに応じて自動調整
- **画像処理**: JPEG圧縮（品質85%、最大600px）

---

## トラブルシューティング

### 翻訳機能が動かない
- API URLが正しいか確認
- 「テスト」ボタンでAPI接続を確認
- APIタイプが正しく選択されているか確認

### ストレージ容量エラー
- 設定画面でストレージ使用量を確認
- 不要なテンプレートを削除
- サムネイル画像を削減

### データが消えた
- 設定タブの「データセット切り替え」で別データセットになっていないか確認
- バックアップから復元（インポート機能）

---

## 開発

### ローカルでの実行
```bash
git clone https://github.com/versat13/AI_Prompt_Manager.git
cd AI_Prompt_Manager
# Chrome拡張機能として読み込む
```

### ファイル構成
```
AI_Prompt_Manager/
├── manifest.json          # 拡張機能設定
├── background.js          # 翻訳API通信処理
├── app.html              # メインUI
├── app.js                # アプリケーションロジック
├── icons/                # アイコン画像
└── README.md
```

---

## ライセンス

MIT License - 個人・商用利用可

詳細は [LICENSE](LICENSE) ファイルを参照してください。

---

## 更新履歴

### v1.0.0 (2025-01-XX)
- 初回リリース
- パーツ管理機能
- テンプレート機能
- 翻訳API連携
- データセット切り替え
